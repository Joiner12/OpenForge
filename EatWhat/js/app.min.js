$(function () {
  function t(t, e) {
    return (t = t || 100), (e = e || 0), Math.ceil(Math.random() * (t - e) + e);
  }
  function e(t) {
    var e = $("<div class='comment'>" + t + "</div>");
    e.on("animationend webkitAnimationEnd", function (t) {
      $(this).remove();
    }).appendTo(g);
  }
  function n(t, e) {
    if (!i) {
      if (
        // ((d = t),
        ((d = 1),
        o.text(m[d][0]),
        s.text("啥呢"),
        c.text("？"),
        a.addClass("shake"),
        (k = 0),
        e)
      ) {
        var n = $(".tip").show();
        setTimeout(function () {
          n.remove();
        }, 4e3);
      }
      _hmt.push(["_trackEvent", "time", "change", m[d][0]]);
    }
  }
  var i = 0,
    a = $(".title"),
    o = $(".time"),
    s = $(".what"),
    c = $(".punctuation"),
    l = $("#start"),
    r = $("#temp_container"),
    m = [
      [
        "早饭",
        "面包 蛋糕 荷包蛋 烧饼 饽饽 肉夹馍 油条 馄饨 火腿 面条 小笼包 玉米粥 肉包 煎饼果子 饺子 煎蛋 烧卖 生煎 锅贴 包子 酸奶 苹果 梨 香蕉 皮蛋瘦肉粥 蛋挞 南瓜粥 煎饼 玉米糊 泡面 粥 馒头 燕麦片 水煮蛋 米粉 豆浆 牛奶 花卷 豆腐脑 煎饼果子 小米粥 黑米糕 鸡蛋饼 牛奶布丁 水果沙拉 鸡蛋羹 南瓜馅饼 鸡蛋灌饼 奶香小馒头  三明治 蛋包饭 豆沙红薯饼  粥 粢饭糕 蒸饺 白粥".split(
          " "
        ),
      ],
      ["午饭"],
      [
        "晚饭",
        "泰熙家拉面 泰熙家牛肉饭 711 鸡毛店 老妈蹄花 村上一屋 自贡菜 钟水饺 麦当劳 肯德基 全家".split(
          " "
        ),
      ],
    ],
    h =
      "冰箱 书桌 电扇 空调 马桶 翔 鼠标 键盘 显示器 电视 台灯 饭盒 iPad iPhone 手机 餐巾纸 电话 椅子 纸箱 窗帘 插座 被单 报纸 杂志 相框 照片 衣服 内裤 内衣 袜子 妹子 汉子 砖头 混凝土 钢筋 塑料袋 衣架 书 手环 手表 鼠标垫 眼药水 跑车 自行车 三轮车 坦克 潜水艇 飞机 火箭 U盘 CPU 显卡 刀片 碎玻璃 圆珠笔 钢笔 交通卡 银行卡 身份证 户口簿 橡皮筋 双面胶 502胶水 订书机 螺丝刀 锤子 榔头 垃圾桶 花花草草 树皮 洗手液 妇炎洁 姨妈巾 哆啦A梦 仙人掌 企鹅 大熊猫 穿山甲 米老鼠 唐老鸭 跳跳虎 旅行箱 DVD 音响 热水器 热水袋 电热棒 电池 充电器 相机 自拍杆 耳机 吊灯 雨伞 钱包 鞋子 人字拖 床垫 绣花针 戒指 窨井盖 路灯 主板 程序猿 工程狮 电线 摄像头 西北风 生活 路由器 洗手液 沐浴露 肥皂 羽毛球拍 保龄球 皮带 皮鞭 电池 牙膏 手电筒 瑜伽垫 假发 82年的自来水 马蜂窝 瑞士军刀 地板 水管 电钻".split(
        " "
      ),
    u =
      "大哥，饶命啊大哥 莫慌，抱紧我  听说吃这玩意吃不胖 饭后百步走，活到九十九 活到老，吃到老 我给你讲个笑话 你别哭喔 心情不好就吃吃吃 好吃的不要不要的".split(
        " "
      ),
    d = 2,
    p = new Date().getHours(),
    f = $(window),
    g = $("body"),
    v = $("#wrapper"),
    x = $(".os"),
    k = 0,
    w = "human",
    b,
    C,
    E;
  (m[1][1] = m[2][1]),
    a.on("animationend webkitAnimationEnd", function (t) {
      $(this).removeClass("shake");
    }),
    r.on("animationend webkitAnimationEnd", function (t) {
      $(t.target).remove();
    }),
    l.click(function () {
      if ((g.toggleClass("playing", !i), i))
        (i = 0),
          "monster" == w && x.text(u[t(u.length)]),
          c.text("！"),
          l.find("span").text("换一个"),
          clearTimeout(b),
          (document.title = a.text());
      else {
        (i = 1),
          k++,
          "human" == w && 1 == k && e("👍👍👍吃啥问我就对了！"),
          "human" == w && 5 == k && e("🥱🥱🥱冷静一下！"),
          "human" == w && 7 == k && e("🌈🌈🌈放轻松，别着急！！"),
          "human" == w && 10 == k && e("❤️❤️❤️问问男朋友吧！"),
          "human" == w && 20 == k && e("⚠️⚠️⚠️再换我可要报警了！");
        var n = "human" == w ? m[d][1] : h;
        c.text("？"),
          l.find("span").text("停"),
          x.text(""),
          (function o() {
            var e = t(n.length) - 1,
              i = n[e],
              a = t(C),
              c = t(E - 50),
              l = t(37, 14);
            s.text(i);
            var m = $("<span class='temp'>" + i + "</span>")
              .css({
                top: a,
                left: c,
                color: "rgba(0,0,0," + t(7, 3) / 10 + ")",
                fontSize: l + "px",
              })
              .appendTo(r);
            b = setTimeout(o, 60);
          })();
      }
    }),
    $("#toggle span").click(function () {
      $(this).hasClass("selected") ||
        ($(this).addClass("selected").siblings().removeClass("selected"),
        (w = $(this).data("type")),
        alert("monster" == w ? "注意！前方高能！" : "回头才是岸Ψ(￣∀￣)Ψ"),
        (k = 0),
        _hmt.push(["_trackEvent", "type", "toggle", w]));
    }),
    9 > p || p >= 23 ? n(0, 1) : 13 > p && n(1, 1),
    a.click(function () {
      n(d >= m.length - 1 ? 0 : d + 1);
    }),
    $("#ribbon").click(function () {
      return alert(this.title), !1;
    }),
    f
      .resize(function () {
        (E = f.width()), (C = f.height());
      })
      .resize();
});
